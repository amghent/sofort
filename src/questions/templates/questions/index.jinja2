{#####
#
#   Version:    1.0.0
#   Date:       2022-07-28
#   Author:     Yves Vindevogel
#
#####}

{% extends "forms/datalist.jinja2" %}

{% macro create_toolbar() %}
    {% set toolbar = {
        "buttons": [
            {"type": "new", "url": url('questions_new', args=[interest_group.slug])}
        ],
    } %} {{ toolbar_factory.build_toolbar(toolbar) }}
{% endmacro %}

{% macro create_rows(questions) %}
    {% for q in questions %}
        <tr>
            <td>
                <a href="{{ url("questions_detail", args=[interest_group.slug, q.id]) }}">{{ q.title }}</a>
            </td>
            <td>{{ q.author }}</td>
            <td>{{ q.created_at | dt_to_user_frmt }}</td>
        </tr>
    {% endfor %}
{% endmacro %}

{# do not touch below this line #}

{% macro init_datatable() %}
    {% include "config/server_side/questions/index_datatable.jinja2" %}
{% endmacro %}

{% block page_title %}
    {{ element_factory.page_title("Questions") }}
{% endblock %}

{% block sidebar %}
    {% include "includes/interests/sidebar.jinja2" %}
{% endblock %}

{% block toolbar %}
    {{ create_toolbar() }}
{% endblock %}

{% block datatable %}
    {{ init_datatable() }}
{% endblock %}

{% block client_side_config %}
    {% include "config/client_side/questions/index_datatable.js" %}
{% endblock %}
